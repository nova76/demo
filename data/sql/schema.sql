CREATE TABLE category (id BIGINT AUTO_INCREMENT, title VARCHAR(60) NOT NULL, description text NOT NULL, slug VARCHAR(255), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE cms (id BIGINT AUTO_INCREMENT, title VARCHAR(60) NOT NULL, description text NOT NULL, is_module TINYINT(1) DEFAULT '0', route VARCHAR(200), content LONGBLOB, slug VARCHAR(255), root_id BIGINT, lft INT, rgt INT, level SMALLINT, UNIQUE INDEX cms_sluggable_idx (slug), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
CREATE TABLE product (id BIGINT AUTO_INCREMENT, title VARCHAR(60) NOT NULL, description text, category_id BIGINT, slug VARCHAR(255), UNIQUE INDEX product_sluggable_idx (slug), INDEX category_id_idx (category_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = INNODB;
ALTER TABLE product ADD CONSTRAINT product_category_id_category_id FOREIGN KEY (category_id) REFERENCES category(id);
